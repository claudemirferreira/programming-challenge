<div class="mat-app-background basic-container">

  <mat-card class="example-card">
    <mat-card-header>
      <div mat-card-avatar class="example-header-image"></div>
      <mat-card-title>List the top 10 movies (in terms of rating) filtered by year. If no year is given as parameter,
        the API should list all movies with pagination;</mat-card-title>
    </mat-card-header>
    <mat-card-content>

      <mat-form-field>
        <input matInput placeholder="Ano" [(ngModel)]="startYear" type="number" maxlength="4">
      </mat-form-field>

    </mat-card-content>

    <mat-card-actions>

      <button mat-raised-button (click)="pesquisar()">
        <i class="material-icons">search</i>Find</button>

    </mat-card-actions>
  </mat-card>

  <div class="mat-elevation-z8">
    <table mat-table [dataSource]="list">

      <ng-container matColumnDef="tconst">
        <th mat-header-cell *matHeaderCellDef> tconst </th>
        <td mat-cell *matCellDef="let element"> {{element.tconst}} </td>
      </ng-container>

      <ng-container matColumnDef="titleType">
        <th mat-header-cell *matHeaderCellDef> titleType </th>
        <td mat-cell *matCellDef="let element"> {{element.titleType}} </td>
      </ng-container>

      <ng-container matColumnDef="primaryTitle">
        <th mat-header-cell *matHeaderCellDef> primaryTitle </th>
        <td mat-cell *matCellDef="let element"> {{element.primaryTitle}} </td>
      </ng-container>

      <ng-container matColumnDef="originalTitle">
        <th mat-header-cell *matHeaderCellDef> originalTitle </th>
        <td mat-cell *matCellDef="let element"> {{element.originalTitle}} </td>
      </ng-container>

      <ng-container matColumnDef="startYear">
        <th mat-header-cell *matHeaderCellDef> startYear </th>
        <td mat-cell *matCellDef="let element"> {{element.startYear}} </td>
      </ng-container>

      <ng-container matColumnDef="averageRating">
        <th mat-header-cell *matHeaderCellDef> averageRating </th>
        <td mat-cell *matCellDef="let element"> {{element.ratings.averageRating}} </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

    <mat-paginator [length]="totalElements" [pageSize]="size" [pageSizeOptions]="[10]" (page)="pageChange($event)">
    </mat-paginator>



  </div>
</div>